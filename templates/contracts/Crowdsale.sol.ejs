<%
  // the num of constructor parameters of MiniMeBaseCrowdsale & ZeppelinBaseCrowdsale
  const defaultConstructorsLength = 8;

  const parentsList = parseResult.crowdsale.parentsList;
  const importStatements = parseResult.crowdsale.importStatements;
%><%- include("partials/version.ejs") %>

<% writeImportStatements() %>

contract Crowdsale is <%- parseResult.crowdsale.parentsList.join(", ") %> {
<% writeCrowdsaleBody() %>

  function parseBool(bytes32 b) internal pure returns (bool) {
    return b == 0x1;
  }

  function parseUint(bytes32 b) internal pure returns (uint) {
    return uint(b);
  }

  function parseAddress(bytes32 b) internal pure returns (address) {
    return address(b);
  }
}

<%
  function writeImportStatements() { %>
<%- parseResult.crowdsale.importStatements.join("\n") %>
  <% }
%>


<%
  function writeCrowdsaleBody() { %>
    function Crowdsale(bytes32[] args) <%- helper.writeSuperModifiers(parseResult.crowdsale.parentsList, parseResult.constructors) %> public {}
  <% }
%>


<%
  function writeConstructorArguments() {
    const comma = (i) => i < parseResult.constructors.Crowdsale.length - 1 ? ',' : ''
    parseResult.constructors.Crowdsale.forEach((typeAndArray, i) => {%>
      <%- `${typeAndArray[0]} ${helper.getLastName(typeAndArray[1])}${comma(i)}` %><% }) %> <% } %>



<%-
  JSON.stringify(parseResult, undefined, 2)
%>
