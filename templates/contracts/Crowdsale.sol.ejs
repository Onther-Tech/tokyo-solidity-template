<%
  const parentsList = parseResult.crowdsale.parentsList;
  const importStatements = parseResult.crowdsale.importStatements;
-%>
<%- include("partials/version.ejs") -%>

<%- writeImportStatements() %>

contract Crowdsale is <%- parentsList.join(", ") %> {
  bool public initialized;

<%- parseResult.variableDeclares %>

<% writeConstructor() -%>

  function parseBool(bytes32 b) internal pure returns (bool) {
    return b == 0x1;
  }

  function parseUint(bytes32 b) internal pure returns (uint) {
    return uint(b);
  }

  function parseAddress(bytes32 b) internal pure returns (address) {
    return address(b);
  }

  function init(bytes32[] args) external onlyOwner {
    require(!initialized);
    initialized = true;

<%- parseResult.initBody %>
  }
}

<%
  function writeImportStatements() {
    return importStatements.join("\n");
  }
%>

<%
  function writeConstructor() { %>
  function Crowdsale(bytes32[] args) <%- helper.writeSuperModifiers(parseResult.crowdsale.parentsList, parseResult.constructors) %> public {}
  <% }
%>
